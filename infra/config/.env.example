# ============================================================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# ============================================================================
# Copy this file to dev.env or prod.env and customize
# 
# Quick Start:
#   cp .env.example dev.env
#   nano dev.env  # Edit with your settings
#   cd .. && npm run deploy:dev
# ============================================================================

# ----------------------------------------------------------------------------
# SMS & EMAIL CONFIGURATION
# ----------------------------------------------------------------------------
# DEV_SMS_MODE: Controls SMS delivery behavior
#   Options: 'inline' (dev), '' (production)
#   - 'inline' = Codes returned in API response (FREE, dev only)
#   - ''       = Real SMS via AWS SNS (PAID, production)
DEV_SMS_MODE=inline

# DEV_EMAIL_MODE: Controls email delivery behavior
#   Options: 'inline' (dev), '' (production)
#   - 'inline' = Codes returned in API response (dev only)
#   - ''       = Production mode
DEV_EMAIL_MODE=inline

# ----------------------------------------------------------------------------
# AWS SES CONFIGURATION (REQUIRED)
# ----------------------------------------------------------------------------
# SES_SENDER_EMAIL: Email address for sending notifications
# CRITICAL: Must be verified in AWS SES Console before deployment
# To verify: AWS Console → SES → Verified identities → Create identity
# Used for: Security alerts, account notifications, email OTP
SES_SENDER_EMAIL=noreply@yourdomain.com

# SES_SENDER_NAME: Display name for emails (optional)
# This appears as the "From" name in email clients
SES_SENDER_NAME=CryptoJogi

# ----------------------------------------------------------------------------
# COST PROTECTION (IMPORTANT!)
# ----------------------------------------------------------------------------
# SNS_SPENDING_LIMIT: Maximum monthly SMS spending in USD
# Recommended values:
#   - Dev: 0 (no SMS)
#   - Prod: 50 (adjust based on usage)
SNS_SPENDING_LIMIT=10

# ----------------------------------------------------------------------------
# LOGGING & DEBUGGING
# ----------------------------------------------------------------------------
# LOG_LEVEL: CloudWatch log verbosity
#   Options: debug, info, warn, error
#   - 'debug' = Verbose logging (dev)
#   - 'warn'  = Warnings and errors only (prod)
#   - 'error' = Errors only (minimal)
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------------------
# ENABLE_SMS_MFA: Allow users to enable SMS as MFA method
#   Options: true, false
#   - true = Users can enable SMS MFA (requires SNS production access)
#   - false = SMS MFA disabled (recommended for dev)
ENABLE_SMS_MFA=false

# ENABLE_RATE_LIMITING: Enable rate limiting for OTP requests
#   Options: true, false
#   CRITICAL: Always keep enabled for security
ENABLE_RATE_LIMITING=true

# ENABLE_DEVICE_TRACKING: Track user devices and send security alerts
#   Options: true, false
ENABLE_DEVICE_TRACKING=true

# ENABLE_PASSKEYS: Enable WebAuthn passkey authentication
#   Options: true, false
ENABLE_PASSKEYS=true

# ----------------------------------------------------------------------------
# SECURITY SETTINGS
# ----------------------------------------------------------------------------
# MAX_OTP_ATTEMPTS: Maximum verification attempts before lockout
#   Recommended: 3 attempts (balance security vs UX)
MAX_OTP_ATTEMPTS=3

# OTP_EXPIRY_MINUTES: OTP code expiration time in minutes
#   Recommended: 10 minutes (balance security vs UX)
OTP_EXPIRY_MINUTES=10

# MAX_LOGIN_ATTEMPTS: Maximum failed login attempts before lockout
#   Recommended: 5 attempts
MAX_LOGIN_ATTEMPTS=5

# SESSION_TIMEOUT_MINUTES: User session timeout in minutes
#   Recommended: 30 minutes for security-sensitive apps
SESSION_TIMEOUT_MINUTES=30

# ----------------------------------------------------------------------------
# AWS CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
# AWS_REGION: AWS region for deployment
#   If not set, uses AWS CLI default region
# AWS_REGION=us-east-1

# AWS_ACCOUNT_ID: AWS account ID (optional)
#   If not set, uses AWS CLI default account
# AWS_ACCOUNT_ID=123456789012

# ----------------------------------------------------------------------------
# RELYING PARTY CONFIGURATION (For Passkeys/WebAuthn)
# ----------------------------------------------------------------------------
# RP_ID: Domain for passkey authentication
#   IMPORTANT: Must match your domain exactly
#   Do not include protocol (https://) or port
#   Examples:
#     - Dev: localhost
#     - Prod: yourdomain.com
RP_ID=localhost

# RP_NAME: Display name for passkey prompts
#   This appears in browser passkey dialogs
RP_NAME=CryptoJogi

# ----------------------------------------------------------------------------
# MONITORING & ALERTS (Optional)
# ----------------------------------------------------------------------------
# ALERT_EMAIL: Email for critical alerts
#   Receives notifications for critical errors, security events
# ALERT_EMAIL=ops@yourdomain.com

# ENABLE_DETAILED_METRICS: Enable detailed CloudWatch metrics
#   Options: true, false
#   Provides more granular metrics but may increase costs
# ENABLE_DETAILED_METRICS=false

# ----------------------------------------------------------------------------
# ADVANCED SETTINGS (Optional)
# ----------------------------------------------------------------------------
# COGNITO_USER_POOL_NAME: Custom name for Cognito User Pool
#   If not set, uses default: aws-cognito-security-user-pool
# COGNITO_USER_POOL_NAME=my-app-user-pool

# API_THROTTLE_RATE: API Gateway throttle rate (requests per second)
#   Default: 100
# API_THROTTLE_RATE=100

# API_THROTTLE_BURST: API Gateway burst limit
#   Default: 200
# API_THROTTLE_BURST=200

# ----------------------------------------------------------------------------
# COST ESTIMATES (for reference)
# ----------------------------------------------------------------------------
# SMS Costs (US):
#   - 500 SMS/month   = $3.23
#   - 1,000 SMS/month = $6.45
#   - 2,000 SMS/month = $12.90
#   - 5,000 SMS/month = $32.25
#   - 10,000 SMS/month = $64.50
#
# International SMS costs vary by country (typically higher)
# Monitor costs in AWS Billing Dashboard

# ----------------------------------------------------------------------------
# ENVIRONMENT-SPECIFIC RECOMMENDATIONS
# ----------------------------------------------------------------------------
# Development:
#   DEV_SMS_MODE=inline
#   DEV_EMAIL_MODE=inline
#   SNS_SPENDING_LIMIT=0
#   LOG_LEVEL=debug
#   ENABLE_SMS_MFA=false
#
# Production:
#   DEV_SMS_MODE=
#   DEV_EMAIL_MODE=
#   SNS_SPENDING_LIMIT=50
#   LOG_LEVEL=warn
#   ENABLE_SMS_MFA=true

# ----------------------------------------------------------------------------
# NOTES
# ----------------------------------------------------------------------------
# - All values are case-sensitive
# - Boolean values: true or false (lowercase)
# - No quotes needed around values
# - Comments start with #
# - Empty values are valid (e.g., DEV_SMS_MODE=)
# - This file should NOT be committed to git
# - Keep sensitive values secure
